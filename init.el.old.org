#+TITLE: Emacs Configuration Generation File - OLD
#+AUTHOR: Peter Prevos
#+PROPERTY: header-args :tangle yes :tangle ~/.emacs.d/init.el :results silent

#+BEGIN_SRC 
;;Auto complete
(require 'auto-complete)
(global-auto-complete-mode t)
#+END_SRC

* Basic Configuration
** Calendar settings
- First day of the week is Monday
- Dutch holidays (TODO)

#+BEGIN_SRC emacs-lisp
;; Calendar settings
;; First day of te week
(setq calendar-week-start-day 1)
#+END_SRC
* Org-Mode
** Additional functionality
#+BEGIN_SRC emacs-lisp
  ;; Insert NOTES drawer
  ;; by u/alecigne
  ;; https://www.reddit.com/r/orgmode/comments/7awar9/how_to_create_a_keyboard_shortcut_to_crease_an/
  (defun ddz-org-insert-drawer-note ()
    (interactive)
    (org-insert-drawer nil "NOTES"))
  (with-eval-after-load 'org
    (define-key org-mode-map (kbd "C-c C-x n") 'ddz-org-insert-drawer-note))

  ;; Remove links
  ;; By Chris
  ;; https://emacs.stackexchange.com/questions/10707/in-org-mode-how-to-remove-a-link/21945#21945
  (defun afs/org-replace-link-by-link-description ()
    "Replace an org link by its description or if empty its address"
    (interactive)
    (if (org-in-regexp org-bracket-link-regexp 1)
        (save-excursion
          (let ((remove (list (match-beginning 0) (match-end 0)))
                (description (if (match-end 3) 
                                 (org-match-string-no-properties 3)
                               (org-match-string-no-properties 1))))
            (apply 'delete-region remove)
            (insert description)))))
  (with-eval-after-load 'org
    (define-key org-mode-map (kbd "C-c C-x l") 'afs/org-replace-link-by-link-description))
#+END_SRC
** Export
These settings define how Org Mode exports files to LaTeX. The export classes define the various document types.

#+BEGIN_SRC emacs-lisp
(require 'ox-latex)
(setq org-export-latex-listings 'minted)
(add-to-list 'org-latex-default-packages-alist '("" "minted"))
(setq org-src-fontify-natively t)
#+END_SRC
*** Templates
#+BEGIN_SRC emacs-lisp

;; Taylor & Francis (Interacta)
(add-to-list 'org-latex-classes '("TaylorFrancis"
               "\\documentclass[largeformat]{interact}
               \\usepackage{hyperref}"
               ("\\section{%s}" . "\\section*{%s}")
               ("\\subsection{%s}" . "\\subsection*{%s}")
               ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
               ("\\paragraph{%s}" . "\\paragraph*{%s}")
               ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))

;; American Psychological Association papers
(add-to-list 'org-latex-classes '("apa6"
"\\documentclass[a4paper, jou, 11pt]{apa6}
\\usepackage[nodoi]{apacite}
\\usepackage[british]{babel}
\\usepackage{inputenc}
\\usepackage{amsmath}
\\usepackage{graphicx}
\\usepackage{csquotes}
\\usepackage[hyphens]{url}
\\usepackage[T1]{fontenc}
\\usepackage{lmodern}
\\usepackage{hyperref}"
("\\section{%s}" . "\\section*{%s}")
("\\subsection{%s}" . "\\subsection*{%s}")
))


;;Two-coumn instruction sheets
				  
#+END_SRC
* Data Science

In ESS, the underscore key is mapped to the =<-= assignment operator in R. If you need an underscore, you need to type it twice. This functionality can be annoying when you are an avid user of ggplot. The [[https://github.com/mattfidler/ess-smart-underscore.el][ess-smart-underscore]] package solves this issue by allowing a single underscore in certain circumstances.

#+BEGIN_SRC emacs-lisp
;; Emacs Speaks Statistics
(require 'ess-site)
(require 'ess-smart-underscore)
;; Use Alt Return to execute one line of code
(define-key ess-mode-map (kbd "M-RET") 'ess-eval-region-or-line-and-step)
;; Or Babel
(org-babel-do-load-languages
    'org-babel-load-languages '((R . t)))

;; Indicate the matching parenthesis
(show-paren-mode)
#+END_SRC



** Smartparens
#+BEGIN_SRC emacs-lisp
(require 'smartparens)
#+END_SRC


